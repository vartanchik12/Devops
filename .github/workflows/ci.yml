name: CI - Static Site Validation

on:
  push:
    branches: [ '*' ]
  pull_request:
    branches: [ 'main', 'master' ]

jobs:
  validate:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Validate static site
      run: |
        echo "=== ПРОВЕРКА СТАТИЧЕСКОГО САЙТА ==="
        
        if [ ! -f "index.html" ]; then
          echo "❌ ОШИБКА: index.html не найден!"
          exit 1
        fi
        
        echo " index.html найден"
        echo "Содержимое проекта:"
        ls -la
        
        index_size=$(wc -c < index.html)
        echo " Размер index.html: $index_size байт"
        
        if grep -q "<!DOCTYPE html>" index.html || grep -q "<html" index.html; then
          echo " HTML структура корректна"
        else
          echo "  Проверьте HTML структуру"
        fi
        
        echo " Статический сайт прошел базовую проверку!"
